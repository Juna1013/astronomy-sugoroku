@tailwind base;
@tailwind components;
@tailwind utilities;

/* globals.css — Tailwind の @imports の後に追記 */
:root{
  --bg-dark: #050714;
  --nebula1: rgba(139,92,246,0.18);
  --nebula2: rgba(99,102,241,0.12);
  --nebula3: rgba(6,182,212,0.08);
}

/* 全体の背景ベース */
html,body,#__next {
  height: 100%;
  background: radial-gradient(ellipse at bottom, rgba(10,10,30,1) 0%, var(--bg-dark) 60%);
  color: #e6eef8;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

/* ネビュラのアニメーション層 */
.space-nebula {
  position: fixed;
  inset: 0;
  z-index: 0;
  pointer-events: none;
  background:
    radial-gradient(600px 400px at 10% 15%, var(--nebula1) 0%, transparent 30%),
    radial-gradient(800px 450px at 80% 50%, var(--nebula2) 0%, transparent 35%),
    radial-gradient(500px 300px at 50% 80%, var(--nebula3) 0%, transparent 40%);
  background-blend-mode: screen;
  animation: nebulaShift 20s linear infinite;
  filter: blur(28px) saturate(120%);
  opacity: 0.95;
}

@keyframes nebulaShift {
  0% { transform: translate3d(0,0,0) scale(1); }
  50% { transform: translate3d(-3%, 2%, 0) scale(1.02); }
  100% { transform: translate3d(0,0,0) scale(1); }
}

/* star layers — CSS-only 星空（複数レイヤで奥行き） */
.star-layer {
  position: fixed;
  inset: 0;
  z-index: 1;
  pointer-events: none;
  background: transparent;
  will-change: transform;
}

/* small stars (static twinkle) */
.star-layer.small {
  background-image: radial-gradient(circle at 10% 20%, rgba(255,255,255,0.95) 1px, transparent 1px),
                    radial-gradient(circle at 80% 70%, rgba(255,255,255,0.9) 1px, transparent 1px),
                    radial-gradient(circle at 45% 40%, rgba(255,255,255,0.85) 1px, transparent 1px);
  background-size: 200px 200px;
  opacity: 0.9;
  mix-blend-mode: lighten;
  filter: drop-shadow(0 0 4px rgba(255,255,255,0.02));
}

/* mid stars (slow drift) */
.star-layer.mid {
  background-image:
    radial-gradient(circle at 20% 30%, rgba(255,255,255,0.92) 1.6px, transparent 1.6px),
    radial-gradient(circle at 60% 15%, rgba(255,255,255,0.88) 1.2px, transparent 1.2px),
    radial-gradient(circle at 75% 75%, rgba(255,255,255,0.9) 1.4px, transparent 1.4px);
  background-size: 350px 350px;
  opacity: 0.85;
  transform-origin: center;
  animation: driftMid 80s linear infinite;
  mix-blend-mode: screen;
}

@keyframes driftMid {
  0% { transform: translateY(0) translateX(0) rotate(0deg); }
  50% { transform: translateY(-2%) translateX(1%) rotate(0.1deg); }
  100% { transform: translateY(0) translateX(0) rotate(0deg); }
}

/* big stars (subtle twinkle using pseudo elements) */
.star-layer.big::after {
  content: '';
  position:absolute; inset:0;
  background-image: radial-gradient(circle at 30% 50%, rgba(255,255,255,0.95) 2.6px, transparent 2.6px),
                    radial-gradient(circle at 85% 20%, rgba(255,255,255,0.95) 2px, transparent 2px);
  background-size: 700px 700px;
  opacity: 0.7;
  filter: blur(.6px);
  animation: twinkle 6s ease-in-out infinite;
}

@keyframes twinkle {
  0% { opacity:0.6; transform: scale(1); }
  50% { opacity:1; transform: scale(1.03); }
  100% { opacity:0.6; transform: scale(1); }
}

/* コンテンツ領域を上に出す */
.app-content {
  position: relative;
  z-index: 10;
}

/* ボタンなどの宇宙スタイル */
.btn-space {
  @apply inline-flex items-center gap-2 px-4 py-2 rounded-2xl text-sm font-semibold shadow-soft-glow;
  background: linear-gradient(90deg, rgba(91,33,182,0.12), rgba(86,114,200,0.14));
  border: 1px solid rgba(255,255,255,0.04);
  backdrop-filter: blur(6px);
  color: #eaf0ff;
}
